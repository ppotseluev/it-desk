alerts:
  - rule: DEPLOYMENT_FAILED
  - rule: DOMAIN_FAILED
  - rule: DEPLOYMENT_LIVE
features:
  - buildpack-stack=ubuntu-22
ingress:
  rules:
    - component:
        name: it-desk-api
      match:
        path:
          prefix: /it-desk
name: it-desk
region: fra
services:
  - dockerfile_path: api/Dockerfile
    github:
      branch: main
      repo: ppotseluev/it-desk
    health_check:
      failure_threshold: 6
      http_path: /healthcheck
      initial_delay_seconds: 10
      period_seconds: 5
      port: 54611
      timeout_seconds: 5
    http_port: 8080
    instance_count: 1
    instance_size_slug: basic-xxs
    internal_ports:
      - 54611
    name: it-desk-api
    source_dir: /
